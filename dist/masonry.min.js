(()=>{function r(e){let o=parseFloat(getComputedStyle(e).gap),s=getComputedStyle(e).gridTemplateRows.split(" ").length,n=[...e.childNodes].filter(i=>i.nodeType===1),t=Math.round(n.length/s);n.forEach(i=>i.style.removeProperty("margin-top")),t!==1&&n.forEach(function(i,p){let a=n[p-t];if(!a)return;let c=i.getBoundingClientRect().top,d=a.getBoundingClientRect().bottom,l=c-d;l!==o&&(i.style.marginTop=`-${l-o}px`)})}function u(){[...document.querySelectorAll("[data-masonry]")].forEach(function(o){f(o)})}function f(e){let o=e.getAttribute("data-masonry"),s,n;if(o){if(o.includes("pollDuration:")){let t=o.replace("pollDuration:","*");t=t.slice(t.indexOf("*")+1,t.lastIndexOf("}")),s=Number(t.split(",")[0])}if(o.includes("waitDuration:")){let t=o.replace("waitDuration:","*");t=t.slice(t.indexOf("*")+1,t.lastIndexOf("}")),n=Number(t.split(",")[0])}}n?setTimeout(()=>r(e),n):r(e),s&&setInterval(()=>r(e),s),window.addEventListener("resize",()=>r(e)),window.addEventListener("reload:masonry",()=>r(e))}document.addEventListener("DOMContentLoaded",()=>{u()});})();
